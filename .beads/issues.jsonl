{"id":"the-last-exam-28y","title":"Persistence, Replay, and Hardening","description":"Enhance persistence for full artifact storage, build replay reconstruction service that never re-generates code, add structured error handling, and comprehensive failure-path tests. Exit criteria: matches replay after server restart; core failure paths degrade cleanly.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:41.983699-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:41.983699-08:00"}
{"id":"the-last-exam-28y.1","title":"Enhance persistence schema for artifacts and score breakdowns","description":"Extend DB schema: add tables/columns for run artifacts (submitted code, stdout, stderr, harness output), detailed score breakdowns (correctness, latency, resource usage, LLM bonus), and final standings snapshots. Add indexes for efficient replay queries (match_id + sequence_id). Schema must remain Postgres-compatible. AC: All artifacts and scores persistable; replay queries fast; schema migration works.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:29.869229-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:29.869229-08:00","dependencies":[{"issue_id":"the-last-exam-28y.1","depends_on_id":"the-last-exam-28y","type":"parent-child","created_at":"2026-02-07T23:55:29.87003-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.1","depends_on_id":"the-last-exam-mgm.6","type":"blocks","created_at":"2026-02-08T00:03:50.760601-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-28y.2","title":"Build replay reconstruction service","description":"Implement service in apps/server that reconstructs full match timeline from stored events and artifacts. Replay must use persisted data ONLY — never invoke code generation, LLM calls, or runner execution. Return complete timeline for client replay viewer. Must be fast (\u003c1s for full match). Ref: Design decision #7; Architecture decision #8 (determinism policy). AC: Replay reconstructs match accurately from DB; no external calls; fast response.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:33.511437-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:33.511437-08:00","dependencies":[{"issue_id":"the-last-exam-28y.2","depends_on_id":"the-last-exam-28y","type":"parent-child","created_at":"2026-02-07T23:55:33.512414-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.2","depends_on_id":"the-last-exam-28y.1","type":"blocks","created_at":"2026-02-08T00:03:50.956872-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.2","depends_on_id":"the-last-exam-mgm.7","type":"blocks","created_at":"2026-02-08T00:03:51.148653-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-28y.3","title":"Add integration test for replay reconstruction consistency","description":"Run match, persist all data, then reconstruct via replay service. Assert reconstructed state matches original exactly. Verify replay includes: all phase transitions, all bid/equip actions, all run results, all scores, final standings. Run with multiple seeds. AC: Replay matches original; all data present; multiple seeds pass.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:37.012119-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:37.012119-08:00","dependencies":[{"issue_id":"the-last-exam-28y.3","depends_on_id":"the-last-exam-28y","type":"parent-child","created_at":"2026-02-07T23:55:37.013065-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.3","depends_on_id":"the-last-exam-28y.2","type":"blocks","created_at":"2026-02-08T00:03:51.349839-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-28y.4","title":"Add structured error taxonomy and logging","description":"Define error categories: VALIDATION (bad input), TIMEOUT (phase/run expired), SANDBOX (execution limit), NETWORK (connectivity), INTERNAL (server bug). Implement structured logging with error codes, match_id, round, agent context. Apply across all apps (server, runner, web). AC: All errors categorized; logs include sufficient context for debugging; error codes documented.","status":"closed","priority":2,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:40.488776-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:51:25.155167-08:00","closed_at":"2026-02-08T00:51:25.155167-08:00","close_reason":"Closed","dependencies":[{"issue_id":"the-last-exam-28y.4","depends_on_id":"the-last-exam-28y","type":"parent-child","created_at":"2026-02-07T23:55:40.489734-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-28y.5","title":"Add failure-path integration tests for timeouts","description":"Test scenarios: (1) agent doesn't submit bid before deadline → default bid applied, match continues; (2) agent doesn't submit equip → default equip applied; (3) runner times out at 60s → fallback result returned; (4) commentary times out → match continues without commentary. Assert graceful degradation in all cases. AC: All timeout scenarios handled; match never crashes; defaults applied correctly.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:44.550951-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:44.550951-08:00","dependencies":[{"issue_id":"the-last-exam-28y.5","depends_on_id":"the-last-exam-28y","type":"parent-child","created_at":"2026-02-07T23:55:44.552155-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.5","depends_on_id":"the-last-exam-mgm.5","type":"blocks","created_at":"2026-02-08T00:03:51.555664-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.5","depends_on_id":"the-last-exam-549.5","type":"blocks","created_at":"2026-02-08T00:03:51.768203-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-28y.6","title":"Verify matches replay after server restart","description":"Integration test: run complete match, stop server, restart server (fresh process), fetch replay via API. Assert replay data is complete and correct — no in-memory state required. Uses real SQLite DB (not mocks). AC: Replay succeeds after restart; no data loss; all events and artifacts present.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:48.29938-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:48.29938-08:00","dependencies":[{"issue_id":"the-last-exam-28y.6","depends_on_id":"the-last-exam-28y","type":"parent-child","created_at":"2026-02-07T23:55:48.300393-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-28y.6","depends_on_id":"the-last-exam-28y.2","type":"blocks","created_at":"2026-02-08T00:03:51.98357-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549","title":"Runner Service and Execution Sandbox","description":"Implement code generation runner with local sandboxed execution, harness evaluation, and fallback mock results. Replaces mocked run results from Phase 2. PHASE GATE: Epic 2 integration test (2.9) must pass before starting. Exit criteria: run phase executes real submissions and returns per-agent results within 60s cap.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:31.67179-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:31.67179-08:00"}
{"id":"the-last-exam-549.1","title":"Scaffold runner app with job intake service","description":"Set up apps/runner with HTTP server. Implement job intake endpoint accepting runner job schema (from 1.3): challenge_id, agent_id, round, tools, hazards, context_snapshot. Add in-memory job queue for concurrent job processing. AC: Runner accepts job submissions per contract schema; jobs queued for processing.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:18.1479-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:18.1479-08:00","dependencies":[{"issue_id":"the-last-exam-549.1","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:18.148858-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.1","depends_on_id":"the-last-exam-mgm.9","type":"blocks","created_at":"2026-02-08T00:04:26.350251-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549.2","title":"Implement runner callback pipeline","description":"Implement callback mechanism: runner reports results to server via HTTP POST using result contract (1.3). Include retry logic with exponential backoff for transient failures. Callbacks must be idempotent (server handles duplicates via idempotency in 2.4). AC: Results delivered to server on job completion; retries on transient failures; result schema validated.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:21.968114-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:21.968114-08:00","dependencies":[{"issue_id":"the-last-exam-549.2","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:21.96905-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.2","depends_on_id":"the-last-exam-549.1","type":"blocks","created_at":"2026-02-08T00:04:26.569475-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549.3","title":"Implement E2B sandbox with strict resource limits","description":"RESOLVED: Use E2B cloud sandbox as default, with adapter interface for Docker fallback later. Integrate E2B SDK for sandboxed code execution. Enforce limits per architecture decision #15: time (60s hard cap), CPU, memory (512MB), disk (100MB), NO network access. Capture stdout, stderr, exit code. Map limit violations to structured failure statuses. Implement SandboxProvider interface so Docker adapter can be plugged in later. Ref: Architecture decision #15 (local-first with E2B adapter). AC: Submissions execute in E2B sandbox; limits enforced; violators terminated; failure statuses structured; adapter interface exists for future Docker support.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:25.815227-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:25.815227-08:00","dependencies":[{"issue_id":"the-last-exam-549.3","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:25.817906-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.3","depends_on_id":"the-last-exam-549.1","type":"blocks","created_at":"2026-02-08T00:04:26.767498-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549.4","title":"Implement harness execution for 5 challenges","description":"Build test harness framework: given submitted code + challenge definition, execute code in sandbox and run test cases. Return structured results: per-test pass/fail, overall correctness score, execution timing. Harnesses must be deterministic. Challenge harnesses loaded from packages/content. AC: All 5 challenge harnesses execute; results include per-test pass/fail; deterministic for same input.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:29.179402-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:29.179402-08:00","dependencies":[{"issue_id":"the-last-exam-549.4","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:29.181786-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.4","depends_on_id":"the-last-exam-549.3","type":"blocks","created_at":"2026-02-08T00:04:26.98271-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549.5","title":"Implement fallback mock-result path for failures","description":"Add fallback logic: if code generation fails (LLM error), execution fails (crash, syntax error), or timeout occurs — return structured mock result indicating failure reason. Fallback must always produce valid result schema. Runner must never crash on bad submissions. Ref: Design decision #4 (persist full scoring inputs/outputs even for failures). AC: Runner handles all failure modes gracefully; fallback results valid per schema; no runner crashes.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:32.898073-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:32.898073-08:00","dependencies":[{"issue_id":"the-last-exam-549.5","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:32.899058-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.5","depends_on_id":"the-last-exam-549.2","type":"blocks","created_at":"2026-02-08T00:04:27.185656-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.5","depends_on_id":"the-last-exam-549.3","type":"blocks","created_at":"2026-02-08T00:04:27.388418-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549.6","title":"Persist run artifacts and score details","description":"Store per-run: submitted code, harness output, execution logs, score breakdown (correctness, latency, resource usage). Link artifacts to match_id/round/agent_id. Use server persistence adapter (2.6). Ref: Design decision #4 (runner contract persists full scoring inputs/outputs). Artifact retention: keep all for hackathon demo (no cleanup needed for short-lived demo). AC: All run artifacts stored and retrievable; linked to match/round/agent.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:36.835061-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:36.835061-08:00","dependencies":[{"issue_id":"the-last-exam-549.6","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:36.836086-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.6","depends_on_id":"the-last-exam-549.4","type":"blocks","created_at":"2026-02-08T00:04:27.578878-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-549.7","title":"Add runner integration test with sandbox execution","description":"Integration test: submit job with correct solution → assert pass; submit incorrect solution → assert fail; submit long-running code → assert timeout termination; submit syntactically invalid code → assert structured failure. Must be safe (no real network/disk abuse). AC: All test scenarios pass; edge cases covered; test completes in \u003c30s.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:40.566857-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:40.566857-08:00","dependencies":[{"issue_id":"the-last-exam-549.7","depends_on_id":"the-last-exam-549","type":"parent-child","created_at":"2026-02-07T23:54:40.567755-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.7","depends_on_id":"the-last-exam-549.2","type":"blocks","created_at":"2026-02-08T00:04:27.768868-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.7","depends_on_id":"the-last-exam-549.3","type":"blocks","created_at":"2026-02-08T00:04:27.968266-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.7","depends_on_id":"the-last-exam-549.4","type":"blocks","created_at":"2026-02-08T00:04:28.152978-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-549.7","depends_on_id":"the-last-exam-549.5","type":"blocks","created_at":"2026-02-08T00:04:28.439144-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li","title":"Scoring Authority, Bots, and Content","description":"Implement harness-first scoring with correctness gating, deterministic bot policies for all 3 bot managers, and the full content set: 5 HLCE/HLE-derived executable challenges, 5 hazards, 8 tools. Same seed + same artifacts must reproduce same standings in replay. Bot submissions must be valid in all rounds. PHASE GATE: Do not enable LLM bonus scoring (5.2) until harness correctness (5.1) is stable.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:36.034578-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:36.034578-08:00"}
{"id":"the-last-exam-5li.1","title":"Integrate harness-first scoring with correctness gating","description":"Wire runner harness results into game-core scoring functions (1.9). Apply correctness gate: failed submissions → zero or heavily capped score. Successful submissions scored by harness results. Server applies scores to match state via FSM. Ref: Architecture decisions #5, #6; Design decision #5. AC: Incorrect submissions zeroed/capped; correct submissions scored proportionally; scores update standings.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:49.085146-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:49.085146-08:00","dependencies":[{"issue_id":"the-last-exam-5li.1","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:54:49.087712-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.1","depends_on_id":"the-last-exam-549.4","type":"blocks","created_at":"2026-02-08T00:04:15.007341-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.1","depends_on_id":"the-last-exam-549.6","type":"blocks","created_at":"2026-02-08T00:04:15.213617-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.10","title":"Add bot validation test (all rounds, all bots)","description":"Integration test: run full 5-round match with 3 bots (no human intervention). Assert: all bots submit valid bids in all rounds, all bots submit valid equips in all rounds, no bot crashes or times out, final standings calculated. Must be fast (\u003c5s). AC: All 3 bots complete all 5 rounds; zero validation errors; test deterministic.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:22.09487-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:22.09487-08:00","dependencies":[{"issue_id":"the-last-exam-5li.10","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:55:22.095869-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.10","depends_on_id":"the-last-exam-5li.3","type":"blocks","created_at":"2026-02-08T00:04:19.037276-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.10","depends_on_id":"the-last-exam-5li.4","type":"blocks","created_at":"2026-02-08T00:04:19.209795-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.2","title":"Implement optional bounded LLM bonus scoring","description":"Integrate LLM judge call (packages/ai) to evaluate code style/readability. RESOLVED: LLM bonus capped at 10% of base correctness score. Bonus CANNOT override correctness — a 0-score submission gets 0 bonus regardless of style. LLM calls must be async with timeout fallback (no bonus if LLM fails). PHASE GATE: only enable after 5.1 is stable. Ref: Architecture decision #7. AC: Bonus adds up to 10% of base score; bonus on failed submission = 0; LLM failure → no bonus (not crash).","status":"open","priority":2,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:52.866167-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:52.866167-08:00","dependencies":[{"issue_id":"the-last-exam-5li.2","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:54:52.867591-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.2","depends_on_id":"the-last-exam-5li.1","type":"blocks","created_at":"2026-02-08T00:04:15.423815-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.3","title":"Implement deterministic bot bidding policies","description":"In packages/ai: implement 3 bot personality heuristics for Hidden Bid phase — e.g., aggressive (bid high early), conservative (bid low, save resources), balanced (adapt to round). Use seeded RNG for any randomized decisions. Bots must always submit valid bids (never violate constraints). Bots cannot cheat (no access to other managers hidden state). Ref: Architecture decision #13 (basic deterministic heuristics). AC: All 3 bots submit valid bids every round; same seed → same bids.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:56.494133-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:56.494133-08:00","dependencies":[{"issue_id":"the-last-exam-5li.3","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:54:56.4958-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.3","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:04:15.619012-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.3","depends_on_id":"the-last-exam-ao7.7","type":"blocks","created_at":"2026-02-08T00:04:15.811161-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.4","title":"Implement deterministic bot equip policies","description":"In packages/ai: implement bot equip heuristics — e.g., greedy (best tools first), risk-averse (avoid hazards), adaptive (based on standings). Respect auction results and equip constraints. Use seeded RNG. AC: All 3 bots submit valid equip selections every round; selections respect auction results; same seed → same equips.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:59.800804-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:59.800804-08:00","dependencies":[{"issue_id":"the-last-exam-5li.4","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:54:59.801663-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.4","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:04:16.01854-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.4","depends_on_id":"the-last-exam-ao7.8","type":"blocks","created_at":"2026-02-08T00:04:16.221439-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.5","title":"Create 5 coding challenges with test harnesses","description":"In packages/content: define 5 HLCE/HLE-derived executable coding challenges with difficulty progression (round 1 easiest → round 5 hardest). Each challenge: title, description, difficulty level, input/output specification, 5-10 test cases. Create matching harness files in apps/runner. Challenges must be solvable by competent AI agent within 60s. Ref: Architecture decision #18. AC: All 5 challenges defined and validated against content schema; harnesses execute correctly.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:03.796813-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:03.796813-08:00","dependencies":[{"issue_id":"the-last-exam-5li.5","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:55:03.7978-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.5","depends_on_id":"the-last-exam-549.4","type":"blocks","created_at":"2026-02-08T00:04:16.419824-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.5","depends_on_id":"the-last-exam-ao7.11","type":"blocks","created_at":"2026-02-08T00:04:16.631809-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.6","title":"Create 5 hazards with modifier logic","description":"In packages/content + packages/game-core: define 5 hazards (e.g., time pressure, memory limit reduction, obscured test cases, noisy input, restricted stdlib). Each hazard has modifier logic that adjusts execution or scoring parameters — hazards are modifiers ONLY, they CANNOT rewrite phase rules. Ref: Architecture decision #9. AC: All 5 hazards defined; modifier logic integrated into game-core/runner; no phase rule rewrites.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:07.441778-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:07.441778-08:00","dependencies":[{"issue_id":"the-last-exam-5li.6","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:55:07.44436-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.6","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:04:16.835081-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.7","title":"Create 8 tools with effect logic","description":"In packages/content + packages/game-core: define 8 tools (e.g., extra time +15s, data file access, context hints, debugger access, additional test visibility, memory boost, retry attempt, code template). Each tool has effect logic applied before/during execution. Ref: Architecture decision #10 (creative but implementable). AC: All 8 tools defined; effect logic integrated; tools provide tangible benefits.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:11.205822-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:11.205822-08:00","dependencies":[{"issue_id":"the-last-exam-5li.7","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:55:11.206803-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.7","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:04:17.039718-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.8","title":"Validate deterministic replay with seeded artifacts","description":"Integration test: run full match with fixed seed, persist all artifacts, then replay via 2.8. Assert replay produces identical standings as original match. Test with multiple seeds. Replay must NOT invoke runner or LLM. Ref: Architecture decision #8 (replay uses persisted artifacts, never re-generates). AC: Same seed + artifacts → identical replay standings; no runner/LLM calls during replay.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:14.849909-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:14.849909-08:00","dependencies":[{"issue_id":"the-last-exam-5li.8","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:55:14.850787-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.8","depends_on_id":"the-last-exam-5li.1","type":"blocks","created_at":"2026-02-08T00:04:17.220333-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.8","depends_on_id":"the-last-exam-5li.5","type":"blocks","created_at":"2026-02-08T00:04:17.40265-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.8","depends_on_id":"the-last-exam-5li.6","type":"blocks","created_at":"2026-02-08T00:04:17.591751-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.8","depends_on_id":"the-last-exam-5li.7","type":"blocks","created_at":"2026-02-08T00:04:17.798407-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.8","depends_on_id":"the-last-exam-mgm.8","type":"blocks","created_at":"2026-02-08T00:04:18.026049-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-5li.9","title":"Integrate tools and hazards into runner execution","description":"Wire tool effects (e.g., extra time → increase sandbox timeout) and hazard modifiers (e.g., reduced memory → lower sandbox limit) into runner job pipeline. Runner reads tool/hazard config from job intake payload and adjusts sandbox parameters accordingly. AC: Tools provide defined benefits; hazards impose defined penalties; runner respects modified constraints.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:18.49526-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:18.49526-08:00","dependencies":[{"issue_id":"the-last-exam-5li.9","depends_on_id":"the-last-exam-5li","type":"parent-child","created_at":"2026-02-07T23:55:18.496333-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.9","depends_on_id":"the-last-exam-5li.6","type":"blocks","created_at":"2026-02-08T00:04:18.251713-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.9","depends_on_id":"the-last-exam-5li.7","type":"blocks","created_at":"2026-02-08T00:04:18.482295-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.9","depends_on_id":"the-last-exam-549.3","type":"blocks","created_at":"2026-02-08T00:04:18.659938-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-5li.9","depends_on_id":"the-last-exam-549.4","type":"blocks","created_at":"2026-02-08T00:04:18.87074-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k","title":"Web Client Gameplay Vertical Slice","description":"Build browser UI for all game phases with countdown timers synced to server deadlines, bid/equip interactions, WS-driven state management, and replay viewer. The client connects to the authoritative server — it never owns game state or phase timing. Exit criteria: human player can complete a full 5-round match in browser against 3 bots.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:28.050172-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:28.050172-08:00"}
{"id":"the-last-exam-71k.1","title":"Scaffold web app with React and Vite","description":"Set up apps/web with React 18+, Vite, TypeScript. Add React Router for navigation. Configure dev server with hot-reload. Import types from packages/contracts. AC: App starts in dev mode; production build succeeds; can import contract types.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:51.721152-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:51.721152-08:00","dependencies":[{"issue_id":"the-last-exam-71k.1","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:53:51.722552-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.1","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:41.54352-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.2","title":"Build phase UI states for all game phases","description":"Create React components for each phase: Briefing (challenge description + round info), Hidden Bid (bid input, countdown), Bid Resolve (reveal results animation), Equip (tool/hazard selection), Run (progress indicator + agent status), Resolve (round scores + standings update), Final Standings (aggregate leaderboard). Must display correct data per phase. Ref: Architecture decision #4 (phase timing baseline for countdown display). AC: All 7 phase screens render; phase-specific data displays correctly; transitions between phases are smooth.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:55.185725-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:55.185725-08:00","dependencies":[{"issue_id":"the-last-exam-71k.2","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:53:55.186603-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.2","depends_on_id":"the-last-exam-71k.1","type":"blocks","created_at":"2026-02-08T00:03:41.770198-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.3","title":"Implement countdown rendering from server deadlines","description":"Timer component that receives server-issued deadline timestamps (via WS events) and renders countdown. Must handle clock skew by using server time as authority, not local Date.now(). Update every second. Auto-trigger phase transition display at zero. Ref: Design decision #2 (deadline-based timing, never trust client clocks). AC: Timer counts down accurately; handles clock drift gracefully; triggers transition at expiry.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:58.344185-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:58.344185-08:00","dependencies":[{"issue_id":"the-last-exam-71k.3","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:53:58.345422-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.3","depends_on_id":"the-last-exam-71k.2","type":"blocks","created_at":"2026-02-08T00:03:41.980142-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.3","depends_on_id":"the-last-exam-71k.6","type":"blocks","created_at":"2026-02-08T00:03:42.187841-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.4","title":"Implement bid interaction UI","description":"Hidden Bid phase component: bid input field with min/max validation (from contract schemas), submit button with loading state, idempotency key generation, display server validation errors. Prevent double-submission via disabled state after submit. Ref: Architecture decision #12 (human agency = bid + equip). AC: Bid submission works; validation errors displayed; no double-submit possible.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:01.73887-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:01.73887-08:00","dependencies":[{"issue_id":"the-last-exam-71k.4","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:54:01.739541-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.4","depends_on_id":"the-last-exam-71k.2","type":"blocks","created_at":"2026-02-08T00:03:42.3855-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.4","depends_on_id":"the-last-exam-ao7.2","type":"blocks","created_at":"2026-02-08T00:03:42.580007-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.5","title":"Implement equip interaction UI","description":"Equip phase component: tool/hazard selection cards/checkboxes, display available tools (from auction results), enforce equip constraints visually, submit with validation, show server errors. Ref: Architecture decisions #9 (hazards = modifiers only), #10 (tools = creative but implementable). AC: Equip selection works; constraints enforced in UI; server errors displayed.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:05.08237-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:05.08237-08:00","dependencies":[{"issue_id":"the-last-exam-71k.5","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:54:05.084296-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.5","depends_on_id":"the-last-exam-71k.2","type":"blocks","created_at":"2026-02-08T00:03:42.777826-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.5","depends_on_id":"the-last-exam-ao7.2","type":"blocks","created_at":"2026-02-08T00:03:42.966397-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.6","title":"Implement WS-driven read-model reducer","description":"Set up WebSocket client connecting to server. Implement reducer that processes WS events (phase_transition, round_result, commentary_update, final_standings) and updates local React state. Handle connection errors, automatic reconnection, and state reconciliation on reconnect. Events applied in order. Ref: Architecture decision #1 (server-authoritative state). AC: WS events update UI state correctly; reconnection restores full state; no stale data displayed.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:08.548503-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:08.548503-08:00","dependencies":[{"issue_id":"the-last-exam-71k.6","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:54:08.549714-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.6","depends_on_id":"the-last-exam-71k.1","type":"blocks","created_at":"2026-02-08T00:03:43.157546-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.6","depends_on_id":"the-last-exam-ao7.1","type":"blocks","created_at":"2026-02-08T00:03:43.34594-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.7","title":"Implement replay timeline view","description":"Replay viewer component: fetch replay data from GET /matches/:id/replay, display event timeline with scrub/seek controls, show phase transitions and results chronologically. Client-only after initial fetch — no further server calls during playback. Ref: Design decision #7 (replay from stored events only). AC: Replay shows full match history; scrubbing works; no server calls during playback.","status":"open","priority":2,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:11.692525-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:11.692525-08:00","dependencies":[{"issue_id":"the-last-exam-71k.7","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:54:11.693561-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.7","depends_on_id":"the-last-exam-71k.2","type":"blocks","created_at":"2026-02-08T00:03:43.553236-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.7","depends_on_id":"the-last-exam-71k.6","type":"blocks","created_at":"2026-02-08T00:03:43.771289-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.7","depends_on_id":"the-last-exam-mgm.8","type":"blocks","created_at":"2026-02-08T00:03:43.956839-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-71k.8","title":"Add error boundary and loading states","description":"Implement React error boundary for graceful crash recovery. Add loading spinners for async operations (match creation, bid/equip submission). Handle network errors with user-friendly messages and retry options. AC: Errors don't crash app; loading states shown during fetches; network failures shown with retry.","status":"open","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:16.775472-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:16.775472-08:00","dependencies":[{"issue_id":"the-last-exam-71k.8","depends_on_id":"the-last-exam-71k","type":"parent-child","created_at":"2026-02-07T23:54:16.784295-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-71k.8","depends_on_id":"the-last-exam-71k.1","type":"blocks","created_at":"2026-02-08T00:03:44.153474-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-7q4","title":"Clean-Room Bootstrap","description":"Start a new monorepo with only required architecture and no legacy feature carryover. Create apps/web, apps/server, apps/runner and packages/game-core, contracts, content, ai, audio, testkit. Set up TypeScript project references, linting, testing, workspace scripts, CI, and de-branding guard. Exit criteria: repo builds and typechecks with one command, CI passes, forbidden-term guard is active.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:17.670898-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:17.670898-08:00"}
{"id":"the-last-exam-7q4.1","title":"Create monorepo workspace structure","description":"Initialize monorepo root with pnpm/npm/yarn workspace config. Create dirs: apps/web, apps/server, apps/runner, packages/game-core, packages/contracts, packages/content, packages/ai, packages/audio, packages/testkit. Add root package.json with workspace definitions. Internal namespace prefix: tle. AC: npm install (or equivalent) succeeds from root; all 9 directories exist with stub package.json files.","status":"closed","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:52:15.67624-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:51:25.103321-08:00","closed_at":"2026-02-08T00:51:25.103321-08:00","close_reason":"Closed","dependencies":[{"issue_id":"the-last-exam-7q4.1","depends_on_id":"the-last-exam-7q4","type":"parent-child","created_at":"2026-02-07T23:52:15.679155-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-7q4.2","title":"Set up TypeScript project references","description":"Configure tsconfig.json in root and every package/app. Enable composite: true and declaration: true in library packages. Wire references arrays so apps import from packages. No circular deps allowed (apps → packages, not reverse). AC: tsc --build compiles all packages from root; IDE cross-package type inference works.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:52:18.688282-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:52:18.688282-08:00","dependencies":[{"issue_id":"the-last-exam-7q4.2","depends_on_id":"the-last-exam-7q4","type":"parent-child","created_at":"2026-02-07T23:52:18.689325-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.2","depends_on_id":"the-last-exam-7q4.1","type":"blocks","created_at":"2026-02-08T00:03:14.255717-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-7q4.3","title":"Configure ESLint and Prettier","description":"Install ESLint with TS parser + Prettier. Create shared config for consistent rules across all packages. Add lint and format scripts at root and package level. AC: npm run lint and npm run format pass on all packages with zero violations.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:52:22.02956-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:52:22.02956-08:00","dependencies":[{"issue_id":"the-last-exam-7q4.3","depends_on_id":"the-last-exam-7q4","type":"parent-child","created_at":"2026-02-07T23:52:22.030749-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.3","depends_on_id":"the-last-exam-7q4.1","type":"blocks","created_at":"2026-02-08T00:03:14.475776-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-7q4.4","title":"Set up test framework","description":"Install and configure Vitest (preferred for speed) or Jest with TS support. Configure workspace-aware test scripts, coverage reporting. Create example test in packages/testkit. AC: npm test runs across all packages; coverage report generates; example test passes.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:52:25.430481-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:52:25.430481-08:00","dependencies":[{"issue_id":"the-last-exam-7q4.4","depends_on_id":"the-last-exam-7q4","type":"parent-child","created_at":"2026-02-07T23:52:25.432601-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.4","depends_on_id":"the-last-exam-7q4.1","type":"blocks","created_at":"2026-02-08T00:03:14.654204-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.4","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:14.830723-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-7q4.5","title":"Configure CI pipeline","description":"Create .github/workflows/ci.yml with jobs: install → typecheck → lint → test → build. Run on push and PR to main. Include contract schema validation as part of typecheck step. AC: CI runs on push/PR, all jobs pass, fails fast on first error.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:52:28.576922-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:52:28.576922-08:00","dependencies":[{"issue_id":"the-last-exam-7q4.5","depends_on_id":"the-last-exam-7q4","type":"parent-child","created_at":"2026-02-07T23:52:28.577855-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.5","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:15.061246-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.5","depends_on_id":"the-last-exam-7q4.3","type":"blocks","created_at":"2026-02-08T00:03:15.266316-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.5","depends_on_id":"the-last-exam-7q4.4","type":"blocks","created_at":"2026-02-08T00:03:15.502624-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-7q4.6","title":"Add de-branding CI guard","description":"Create script (e.g. scripts/check-legacy-terms.sh) that scans all source files for forbidden legacy brand terms. Integrate as separate CI job. Configurable term list. Exemption mechanism for docs/comments if needed. Ref: Architecture decision #19 (naming) and non-negotiable #5. AC: CI fails if forbidden terms detected; script reports file, line number, and match.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:52:32.13126-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:52:32.13126-08:00","dependencies":[{"issue_id":"the-last-exam-7q4.6","depends_on_id":"the-last-exam-7q4","type":"parent-child","created_at":"2026-02-07T23:52:32.134951-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-7q4.6","depends_on_id":"the-last-exam-7q4.5","type":"blocks","created_at":"2026-02-08T00:03:15.697605-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7","title":"Core Contracts and Rules Engine","description":"Lock deterministic game rules and shared contracts before UI/backend complexity. Implement shared API/WS schemas in packages/contracts, FSM, seeded RNG, phase timing, auction resolution, equip validation, scoring formula in packages/game-core, and content loaders in packages/content. Exit criteria: deterministic unit tests pass for seeded inputs; one full 5-round pure simulation passes in game-core.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:21.421704-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:21.421704-08:00"}
{"id":"the-last-exam-ao7.1","title":"Define match lifecycle REST and WS contracts","description":"In packages/contracts: define TypeScript schemas (Zod recommended) for REST endpoints (POST /matches, GET /matches/:id) and WS event types (phase_transition, round_result, commentary_update, match_complete, final_standings). Export shared types and runtime validators. Include match initialization payload: 1 human manager + 3 bot managers, 5 rounds. AC: All REST endpoints have typed request/response schemas; all WS events have typed payloads; runtime validation catches invalid payloads.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:21.49665-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:21.49665-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.1","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:21.499902-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.1","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:15.895091-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.10","title":"Implement deterministic standings finalization","description":"In packages/game-core: calculate final standings after round 5 (aggregate scores across rounds). Implement deterministic final tie-break for placement. Match completion logic that emits final_standings event. AC: Same inputs → same standings; tie-breaks deterministic; match transitions to completed state.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:23.3497-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:23.3497-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.10","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:23.353402-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.10","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:03:17.665584-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.10","depends_on_id":"the-last-exam-ao7.9","type":"blocks","created_at":"2026-02-08T00:03:17.876514-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.11","title":"Implement schema-validated content loaders","description":"In packages/content: implement loaders for challenges, hazards, tools, and traits from JSON/YAML data files. Validate against Zod schemas (challenge: title, description, difficulty, test_cases; hazard: name, description, modifier_effects; tool: name, description, effects; trait: name, flavor_text, visual_tag). Traits are flavor-only in MVP — visible concept showcase with no game mechanics (ref: Architecture decision #11). Ref: Architecture decision #18 (5 challenges, 5 hazards, 8 tools). AC: Loaders parse and validate all content types; invalid content rejected with clear schema errors; types exported for use by game-core and runner.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:23.537253-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:23.537253-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.11","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:23.538348-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.11","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:18.074899-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.12","title":"Add deterministic unit tests for game-core","description":"Write comprehensive unit tests: seeded FSM state transitions (all 5 rounds); auction resolution with various bid combinations and tie scenarios; scoring functions with correct/incorrect/partial submissions; full 5-round pure simulation with fixed seed asserting final standings. Tests must be fast (\u003c1s total) and repeatable. AC: All core logic covered; tests pass consistently with same seed; one full 5-round simulation test included.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:23.694558-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:23.694558-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:23.695301-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:03:18.26771-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7.6","type":"blocks","created_at":"2026-02-08T00:03:18.46074-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7.7","type":"blocks","created_at":"2026-02-08T00:03:18.648344-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7.8","type":"blocks","created_at":"2026-02-08T00:03:18.831972-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7.9","type":"blocks","created_at":"2026-02-08T00:03:19.094406-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-ao7.10","type":"blocks","created_at":"2026-02-08T00:03:19.307822-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.12","depends_on_id":"the-last-exam-7q4.4","type":"blocks","created_at":"2026-02-08T00:03:19.50687-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.2","title":"Define bid and equip submission contracts","description":"In packages/contracts: define bid submission schema (manager_id, round, amount, idempotency_key) and equip submission schema (manager_id, round, tool_selections, hazard_assignments, idempotency_key). Add validation rules for bid bounds and equip constraints. Define machine-readable validation error schema. Ref: Architecture decision #12 (human agency = bid + equip only). AC: Schemas validate correct inputs and reject invalid ones with structured errors.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:21.687446-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:21.687446-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.2","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:21.688277-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.2","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:16.097027-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.3","title":"Define runner callback and result contracts","description":"In packages/contracts: define runner job intake schema (challenge_id, agent_id, round, tools, hazards, context_snapshot) and runner result schema (stdout, stderr, exit_code, harness_results, execution_metadata including timing/memory, score_breakdown). Define callback contract for runner → server result delivery. Must support both success and structured failure paths. Ref: Design decision #4 (runner contract persists full scoring inputs/outputs). AC: Job schema includes full execution context; result schema captures correctness, latency, resource usage, and failure reasons.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:21.880554-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:21.880554-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.3","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:21.88137-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.3","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:16.314561-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.4","title":"Define replay API payload contracts","description":"In packages/contracts: define replay request schema (match_id, optional time_range filter) and replay response (ordered events array with monotonic sequence IDs, artifact references, final_standings). Payloads must be self-contained for client-side reconstruction without server state. Ref: Design decision #7 (replay from stored event log and artifacts only). AC: Replay response includes all data needed to reconstruct full match presentation.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:22.061898-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:22.061898-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.4","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:22.062792-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.4","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:16.528757-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.5","title":"Implement deterministic FSM for five-round match","description":"In packages/game-core: implement finite state machine for 5-round match progression. Phase sequence per round: Briefing → Hidden Bid → Bid Resolve → Equip → Run → Resolve. After round 5: Final Standings. FSM must be a pure function (no side effects). Use seeded PRNG (e.g. seedrandom) for all random decisions. Implement transition guards that reject invalid state changes. Ref: Architecture decisions #1, #2, #8 (determinism policy). AC: FSM advances through all phases correctly for 5 rounds; invalid transitions throw; same seed produces identical state sequence.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:22.272625-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:22.272625-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.5","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:22.273434-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.5","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:16.718811-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.6","title":"Implement server-deadline phase timing model","description":"In packages/game-core: define timing constants from architecture decision #4: Briefing 10s, Hidden Bid 30s, Bid Resolve 5s, Equip 30s, Run up to 60s, Resolve 15s. Full round target: 2-2.5 min. Implement deadline calculation (server emits absolute timestamps). Clients derive countdowns from deadlines; server never trusts client clocks. Ref: Design decision #2. AC: Phase auto-advances on deadline expiry; remaining time queryable; timing constants match architecture.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:22.627436-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:22.627436-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.6","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:22.628334-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.6","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:03:16.917952-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.7","title":"Implement hidden bid resolution with deterministic tie-breaking","description":"In packages/game-core: implement bid collection during Hidden Bid phase (bids remain hidden until Bid Resolve). Implement auction resolution: highest bidder gets first pick of tools. RESOLVED: Tie-break = seed + standings hybrid — when bids are equal, lower-ranked managers (by current standings) win the tie first; any remaining ties broken by seeded RNG. This creates a comeback mechanic. Ref: Design decision #3 (deterministic hidden bid). AC: Bids kept secret until reveal; auction resolves deterministically; lower-ranked managers win ties; same seed → same resolution.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:22.80272-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:22.80272-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.7","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:22.803585-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.7","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:03:17.108909-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.8","title":"Implement equip validation logic","description":"In packages/game-core: validate tool/hazard selections during Equip phase. Enforce constraints: only tools won in auction can be equipped; respect per-round limits; reject invalid combinations before run starts. Ref: Architecture decision #10 (tools: creative but implementable) and #9 (hazards: modifiers only, no phase/rule rewrites). AC: Valid equip accepted; invalid rejected with structured reason; auction results respected.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:22.995513-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:22.995513-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.8","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:22.9963-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.8","depends_on_id":"the-last-exam-ao7.7","type":"blocks","created_at":"2026-02-08T00:03:17.293536-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-ao7.9","title":"Implement correctness-first scoring functions","description":"In packages/game-core: implement harness-first scoring pipeline. RESOLVED: Incorrect submissions = 0 points. LLM bonus capped at 10% of base correctness score. Objective scoring from harness results (pass/fail, latency, resource usage). LLM bonus can NEVER override correctness authority — a 0-score submission gets 0 bonus. Ref: Architecture decisions #5, #6, #7; Design decision #5. AC: Incorrect submissions get exactly 0; correct submissions scored proportionally; LLM bonus slot max 10% of base; bonus on failed submission = 0.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-08T00:01:23.180337-08:00","created_by":"Wenjix","updated_at":"2026-02-08T00:01:23.180337-08:00","dependencies":[{"issue_id":"the-last-exam-ao7.9","depends_on_id":"the-last-exam-ao7","type":"parent-child","created_at":"2026-02-08T00:01:23.181185-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-ao7.9","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:03:17.475715-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze","title":"Live Commentary and Audio Pipeline","description":"Add event-triggered commentary generation, heartbeat summaries during Run phase, rate limiting, and Gemini-only audio with text fallback. Commentary is an asynchronous, non-blocking sidecar — it must NEVER delay phase transitions or score finalization. Exit criteria: commentary runs round start to round end with stable latency; commentary cannot block phase transitions.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:39.605483-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:39.605483-08:00"}
{"id":"the-last-exam-bze.1","title":"Implement event-triggered commentary generation","description":"In packages/audio (or packages/ai): implement commentary generator that subscribes to game events via WS stream. Generate context-aware text commentary for key events: round start, bid reveals, equip choices, run progress, round results, final standings. Use LLM or template-based generation. Pipeline must be fully async. Ref: Architecture decision #14; Design decision #6 (commentary as async sidecar). AC: Commentary generated for all key events; generation is async; no blocking of game loop.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:11.447586-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:11.447586-08:00","dependencies":[{"issue_id":"the-last-exam-bze.1","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:11.448402-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.1","depends_on_id":"the-last-exam-mgm.3","type":"blocks","created_at":"2026-02-08T00:04:23.078739-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze.2","title":"Implement heartbeat summary scheduling","description":"Add periodic heartbeat summaries during long phases (especially Run phase, up to 60s). Generate interim commentary (e.g., Agents are working on the challenge...). Configurable interval. Heartbeats must not overlap with or duplicate event-triggered commentary. Ref: Architecture decision #14 (heartbeat summaries). Default heartbeat interval: start with 15s, tune in Phase 8 (issue 8.2). AC: Heartbeats fire on schedule during long phases; no overlap with event commentary; interval configurable.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:15.133298-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:15.133298-08:00","dependencies":[{"issue_id":"the-last-exam-bze.2","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:15.136522-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.2","depends_on_id":"the-last-exam-bze.1","type":"blocks","created_at":"2026-02-08T00:04:23.305649-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze.3","title":"Add commentary rate limiting and backpressure","description":"Implement rate limiter: max N commentary items per second to client. Add backpressure: if queue exceeds threshold, drop lowest-priority items (heartbeats before event commentary). Critical events (round results, final standings) always prioritized. Configurable limits. Ref: Risk mitigation (commentary volume harms UX). AC: Commentary doesn't flood clients; backpressure prevents queue overflow; critical events always delivered.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:18.604698-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:18.604698-08:00","dependencies":[{"issue_id":"the-last-exam-bze.3","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:18.605385-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.3","depends_on_id":"the-last-exam-bze.1","type":"blocks","created_at":"2026-02-08T00:04:23.481598-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.3","depends_on_id":"the-last-exam-bze.2","type":"blocks","created_at":"2026-02-08T00:04:23.689869-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze.4","title":"Ensure commentary pipeline is non-blocking","description":"Add timeout and circuit breaker to commentary generation. If commentary generation takes \u003e5s, skip and log. Phase transitions MUST proceed regardless of commentary state — fire-and-forget pattern. Commentary failures logged but never fatal. Ref: Non-negotiable from design: commentary failures/timeouts are non-blocking for phase transitions and scoring. AC: Phase transitions never wait for commentary; commentary timeouts logged but game continues.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:22.096808-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:22.096808-08:00","dependencies":[{"issue_id":"the-last-exam-bze.4","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:22.097887-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.4","depends_on_id":"the-last-exam-bze.1","type":"blocks","created_at":"2026-02-08T00:04:23.932489-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.4","depends_on_id":"the-last-exam-bze.3","type":"blocks","created_at":"2026-02-08T00:04:24.130913-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze.5","title":"Integrate Gemini audio generation API","description":"In packages/audio: integrate Gemini TTS API for converting text commentary to audio. Handle API errors, rate limits, and latency. On Gemini failure, fall back to text-only commentary (no crash, no block). Gemini is the ONLY audio provider for MVP — ref: Architecture decision #14, non-negotiable #3. AC: Text commentary converted to audio via Gemini; API failures fall back to text; no other providers.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:25.711067-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:25.711067-08:00","dependencies":[{"issue_id":"the-last-exam-bze.5","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:25.711851-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.5","depends_on_id":"the-last-exam-bze.1","type":"blocks","created_at":"2026-02-08T00:04:24.323259-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze.6","title":"Implement audio playback queue and client controls","description":"In apps/web: audio playback queue (autoplay, sequential, no skip/duplicate). Client controls: mute toggle, volume slider, pause/resume. Text fallback display when audio unavailable or muted. Ref: Phase 6 scope item 4 (client controls + text fallback). AC: Audio plays in correct order; controls work; text fallback always available.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:29.134665-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:29.134665-08:00","dependencies":[{"issue_id":"the-last-exam-bze.6","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:29.136138-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.6","depends_on_id":"the-last-exam-bze.5","type":"blocks","created_at":"2026-02-08T00:04:24.521117-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-bze.7","title":"Add commentary stability test (non-blocking verification)","description":"Integration test: run match with commentary enabled. Assert all phase transitions happen within expected timing (±1s tolerance). Simulate: commentary generation delay (10s+), Gemini API timeout, malformed commentary response. In all cases, match must complete normally. AC: Match completes even with commentary failures; no phase delayed; test deterministic.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:55:32.704987-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:55:32.704987-08:00","dependencies":[{"issue_id":"the-last-exam-bze.7","depends_on_id":"the-last-exam-bze","type":"parent-child","created_at":"2026-02-07T23:55:32.70604-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-bze.7","depends_on_id":"the-last-exam-bze.4","type":"blocks","created_at":"2026-02-08T00:04:24.699365-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x","title":"Balance, Polish, and Demo Readiness","description":"Tune game feel, pacing, and reliability for hackathon showcase. Prepare one-click demo infrastructure. Add Mistral AI integration as sponsor showcase: one dedicated Mistral bot personality plus configurable model selection for other agents, and multilingual commentary in French + Japanese via Mistral. Exit criteria: three consecutive full matches without critical failure; session duration matches target; outcome variance is visible and strategically coherent; Mistral bot plays successfully; commentary available in EN/FR/JA.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:46.798632-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:46.798632-08:00"}
{"id":"the-last-exam-h2x.1","title":"Balance challenge and hazard ordering across rounds","description":"Review and tune: challenge difficulty progression (round 1 easiest → round 5 hardest), hazard intensity per round, tool value distribution. Run multi-seed simulations to ensure outcome variance — no dominant strategy should emerge. Adjust content ordering and modifier values based on results. AC: Rounds feel progressively challenging; outcome variance visible across matches; no auto-win strategy.","status":"open","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:00.668037-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:00.668037-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.1","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:00.672311-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.1","depends_on_id":"the-last-exam-5li.5","type":"blocks","created_at":"2026-02-08T00:03:07.474173-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.1","depends_on_id":"the-last-exam-5li.6","type":"blocks","created_at":"2026-02-08T00:03:07.695168-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.1","depends_on_id":"the-last-exam-5li.7","type":"blocks","created_at":"2026-02-08T00:03:07.898359-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x.2","title":"Tune commentary cadence and round pacing","description":"Adjust commentary frequency, verbosity, and heartbeat interval to feel natural. Tune phase timing constants to hit 2-2.5 min per round target (ref: Architecture decision #3). Gather feedback from test matches and iterate. AC: Rounds complete within 2-2.5 min; commentary feels engaging and natural; no dead air or spam.","status":"open","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:04.01541-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:04.01541-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.2","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:04.017116-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.2","depends_on_id":"the-last-exam-bze.1","type":"blocks","created_at":"2026-02-08T00:03:08.082168-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.2","depends_on_id":"the-last-exam-bze.2","type":"blocks","created_at":"2026-02-08T00:03:08.276331-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.2","depends_on_id":"the-last-exam-bze.3","type":"blocks","created_at":"2026-02-08T00:03:08.449404-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x.3","title":"Prepare one-click demo scripts and scenarios","description":"Create scripts/demo.sh that starts server, runner, and web app with one command. Add scripted scenarios with pre-seeded matches that produce interesting/dramatic outcomes — include at least one scenario showcasing the Mistral bot. Document demo setup and execution steps. Ensure works on clean machine with minimal setup. AC: One command starts all services; scripted scenarios run successfully; Mistral bot demo scenario included; documentation complete.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:08.122251-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:08.122251-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.3","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:08.123018-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.3","depends_on_id":"the-last-exam-5li.8","type":"blocks","created_at":"2026-02-08T00:03:08.636577-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.3","depends_on_id":"the-last-exam-bze.7","type":"blocks","created_at":"2026-02-08T00:03:08.859277-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.3","depends_on_id":"the-last-exam-28y.6","type":"blocks","created_at":"2026-02-08T00:03:09.085524-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.3","depends_on_id":"the-last-exam-h2x.5","type":"blocks","created_at":"2026-02-08T00:03:09.308678-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x.4","title":"Run stability test — three consecutive full matches","description":"Execute three full matches back-to-back without manual intervention. At least one match must use Mistral bot and one must use non-English commentary. Assert: no critical failures (crashes, hangs, data corruption), all matches produce valid standings, commentary runs throughout in all languages, replay works for all matches. Log any warnings for follow-up. Ref: Phase 8 exit criteria. AC: Three matches complete; zero critical failures; all replays valid; Mistral + multilingual verified.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:11.350589-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:11.350589-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.4","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:11.351323-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.4","depends_on_id":"the-last-exam-h2x.3","type":"blocks","created_at":"2026-02-08T00:03:09.515776-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.4","depends_on_id":"the-last-exam-h2x.7","type":"blocks","created_at":"2026-02-08T00:03:09.721821-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x.5","title":"Add Mistral AI model integration to packages/ai","description":"In packages/ai: integrate Mistral API client (mistralai SDK). RESOLVED: Use Codestral for code generation and Mistral Large for multilingual commentary — both configurable. Implement ModelProvider interface (generate, configure) so code generation and commentary can swap between LLMs. Register two Mistral providers: mistral-codestral (code gen) and mistral-large (commentary/multilingual). Add Mistral-specific configuration (API key, model names, parameters). Sponsor visibility: include Mistral attribution in model metadata. AC: Both Codestral and Mistral Large integrate successfully; model provider abstraction supports multiple LLMs; Codestral generates valid code; Mistral Large generates multilingual text.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:15.91114-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:15.91114-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.5","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:15.912052-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.5","depends_on_id":"the-last-exam-5li.3","type":"blocks","created_at":"2026-02-08T00:03:09.931608-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.5","depends_on_id":"the-last-exam-549.2","type":"blocks","created_at":"2026-02-08T00:03:10.130729-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x.6","title":"Add dedicated Mistral bot manager personality","description":"In packages/ai: configure one of the 3 bot managers to default to Mistral model for code generation. Give it a distinct identity for demo visibility (e.g., name, personality flavor text, Mistral branding). Other bot managers can also be configured to use Mistral via config. Bot personality heuristics (bidding/equip) remain deterministic — only the code generation model changes. Sponsor showcase: Mistral bot should be visually identifiable in UI standings and commentary. AC: One bot always uses Mistral for code generation; bot identity visible in UI; other bots configurable; all bids/equips still valid and deterministic.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:19.853151-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:19.853151-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.6","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:19.854174-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.6","depends_on_id":"the-last-exam-h2x.5","type":"blocks","created_at":"2026-02-08T00:03:10.307171-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.6","depends_on_id":"the-last-exam-5li.3","type":"blocks","created_at":"2026-02-08T00:03:10.487969-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.6","depends_on_id":"the-last-exam-5li.4","type":"blocks","created_at":"2026-02-08T00:03:10.685734-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-h2x.7","title":"Add multilingual commentary (French + Japanese) via Mistral","description":"In packages/audio/packages/ai: extend commentary generation pipeline to accept a language parameter (default: en, options: fr, ja). RESOLVED: Use Mistral Large (via 8.5 ModelProvider) for French and Japanese commentary generation. Add language-specific prompt templates. Add simple language selector toggle in apps/web client (dropdown or button — UI strings stay English, only live commentary changes language). Text fallback works in all languages. RISK: Gemini TTS may have limited support for French/Japanese pronunciation — test early and fall back to text-only for unsupported languages if needed. AC: Commentary generates correctly in English, French, and Japanese via Mistral Large; language toggle switches commentary language live; UI labels remain English; audio works or gracefully falls back to text for non-English.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:56:24.343674-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:56:24.343674-08:00","dependencies":[{"issue_id":"the-last-exam-h2x.7","depends_on_id":"the-last-exam-h2x","type":"parent-child","created_at":"2026-02-07T23:56:24.344482-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.7","depends_on_id":"the-last-exam-bze.1","type":"blocks","created_at":"2026-02-08T00:03:10.889581-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-h2x.7","depends_on_id":"the-last-exam-h2x.5","type":"blocks","created_at":"2026-02-08T00:03:11.093707-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm","title":"Authoritative Server Vertical Slice","description":"Build server-authoritative game loop with REST API, WebSocket event stream, action idempotency, and minimal SQLite persistence. Uses mocked run results (real runner comes in Phase 4). Server is single authority — clients cannot manipulate game state. Exit criteria: E2E API test completes a 5-round match with mocked run outputs; replay endpoint returns ordered events.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:51:25.136279-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:51:25.136279-08:00"}
{"id":"the-last-exam-mgm.1","title":"Scaffold server app with Express or Fastify","description":"Set up apps/server with Express or Fastify. Configure TS build and hot-reload dev mode. Add health check endpoint (GET /health). Configure for REST + WebSocket support on same server. AC: Server starts and responds to health check; hot-reload works; TS compiles cleanly.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:31.221525-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:31.221525-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.1","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:31.22256-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.1","depends_on_id":"the-last-exam-7q4.2","type":"blocks","created_at":"2026-02-08T00:03:32.257797-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.2","title":"Wire match REST endpoints to shared contracts","description":"Implement REST routes using schemas from packages/contracts: POST /matches (create match, initialize 1 human + 3 bots), GET /matches/:id (match state), POST /matches/:id/bids (submit bid), POST /matches/:id/equips (submit equip). Validate all requests against contract schemas. Return structured errors for invalid payloads. AC: Endpoints accept valid requests; invalid rejected with 400 + structured error body.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:34.679216-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:34.679216-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.2","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:34.680219-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.2","depends_on_id":"the-last-exam-mgm.1","type":"blocks","created_at":"2026-02-08T00:03:32.455403-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.2","depends_on_id":"the-last-exam-ao7.1","type":"blocks","created_at":"2026-02-08T00:03:32.650097-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.2","depends_on_id":"the-last-exam-ao7.2","type":"blocks","created_at":"2026-02-08T00:03:32.844259-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.3","title":"Implement WebSocket event stream emission","description":"Set up WS server (ws library or socket.io). Implement connection auth and match-based room management. Emit events per contract schemas: phase_transition, round_result, commentary_update, match_complete, final_standings. Events must be ordered and reliably delivered. Ref: Design decision #2 (server emits absolute deadlines in events). AC: Clients connect and receive ordered events; events validate against WS schemas.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:38.348104-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:38.348104-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.3","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:38.349143-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.3","depends_on_id":"the-last-exam-mgm.1","type":"blocks","created_at":"2026-02-08T00:03:33.022766-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.3","depends_on_id":"the-last-exam-ao7.1","type":"blocks","created_at":"2026-02-08T00:03:33.228109-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.4","title":"Implement action idempotency handling","description":"Add idempotency middleware: store idempotency keys (in-memory map, keyed by match+round+action+key). On duplicate key, return cached response without re-processing. Keys scoped per-round (cleaned up after round completion). Ref: Design decision #3 (bid submissions use idempotency). AC: Duplicate submissions return original result; different keys process normally; no double-processing.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:42.448038-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:42.448038-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.4","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:42.449024-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.4","depends_on_id":"the-last-exam-mgm.2","type":"blocks","created_at":"2026-02-08T00:03:33.435202-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.5","title":"Integrate server orchestration loop with game-core FSM","description":"Implement match orchestrator in apps/server: on match create, initialize game-core FSM. Advance phases using server clock against deadline-based timing. Apply player/bot actions via FSM reducers. Emit WS events on every state transition. Use mocked run results for now (returns deterministic mock scores after Run phase delay). Server is single authority — ref: Design decision #1. AC: Match progresses through all 5 rounds automatically; actions update FSM state; WS events fire for each transition.","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:46.856748-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:46.856748-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.5","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:46.858654-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.5","depends_on_id":"the-last-exam-mgm.2","type":"blocks","created_at":"2026-02-08T00:03:33.64489-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.5","depends_on_id":"the-last-exam-mgm.3","type":"blocks","created_at":"2026-02-08T00:03:33.843118-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.5","depends_on_id":"the-last-exam-ao7.5","type":"blocks","created_at":"2026-02-08T00:03:34.031701-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.5","depends_on_id":"the-last-exam-ao7.6","type":"blocks","created_at":"2026-02-08T00:03:34.21711-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.6","title":"Set up SQLite persistence adapter","description":"Configure SQLite in apps/server with schema for: matches (id, seed, status, created_at), events (id, match_id, sequence_id, type, payload, timestamp), artifacts (future placeholder). Implement adapter interface (insert/query) that is Postgres-compatible (standard SQL, no SQLite-specific features). Add migration mechanism. Ref: Design decision #8. Default SQLite path: ./data/tle.db (created on first run, gitignored). AC: DB initializes on server start; migrations run automatically; adapter interface cleanly abstracts storage.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:50.761585-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:50.761585-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.6","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:50.762564-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.6","depends_on_id":"the-last-exam-mgm.1","type":"blocks","created_at":"2026-02-08T00:03:34.392558-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.7","title":"Persist ordered event log with monotonic sequence IDs","description":"Write every authoritative state transition to event log table. Sequence IDs must be monotonically increasing per match (no gaps, no reuse). Store: event_type, payload (JSON), timestamp, match_id, sequence_id. Append-only — no updates or deletes on event rows. Ref: Design decision #7 (replay from stored event log). AC: All game events written to DB; sequence IDs increment correctly; events retrievable in order.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:54.141332-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:54.141332-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.7","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:54.142218-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.7","depends_on_id":"the-last-exam-mgm.6","type":"blocks","created_at":"2026-02-08T00:03:34.588278-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.7","depends_on_id":"the-last-exam-mgm.5","type":"blocks","created_at":"2026-02-08T00:03:34.794756-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.8","title":"Implement replay endpoint","description":"Implement GET /matches/:id/replay using replay contract (1.4). Fetch ordered events from event log by match_id, ordered by sequence_id. Return self-contained replay payload. Read-only — no state mutations during replay fetch. Ref: Design decision #7 (replay never re-generates). AC: Endpoint returns all events for a match in correct order; response matches replay contract schema.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:53:57.850966-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:53:57.850966-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.8","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:53:57.852321-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.8","depends_on_id":"the-last-exam-mgm.7","type":"blocks","created_at":"2026-02-08T00:03:34.988477-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.8","depends_on_id":"the-last-exam-ao7.4","type":"blocks","created_at":"2026-02-08T00:03:35.193498-08:00","created_by":"Wenjix"}]}
{"id":"the-last-exam-mgm.9","title":"Add E2E integration test for 5-round match with mocked runs","description":"Write integration test: create match via API, submit bids/equips for human + verify bot actions auto-applied, complete 5 rounds with mocked run results. Assert: final standings correct, event log contains all transitions in order, replay endpoint returns consistent data. Must run in CI, complete in \u003c30s. AC: Full match lifecycle completes; all assertions pass; test is deterministic.","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-07T23:54:01.724878-08:00","created_by":"Wenjix","updated_at":"2026-02-07T23:54:01.724878-08:00","dependencies":[{"issue_id":"the-last-exam-mgm.9","depends_on_id":"the-last-exam-mgm","type":"parent-child","created_at":"2026-02-07T23:54:01.726095-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.9","depends_on_id":"the-last-exam-mgm.5","type":"blocks","created_at":"2026-02-08T00:03:35.445868-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.9","depends_on_id":"the-last-exam-mgm.7","type":"blocks","created_at":"2026-02-08T00:03:35.634103-08:00","created_by":"Wenjix"},{"issue_id":"the-last-exam-mgm.9","depends_on_id":"the-last-exam-mgm.8","type":"blocks","created_at":"2026-02-08T00:03:35.806012-08:00","created_by":"Wenjix"}]}
